{"clientJavaScript":"(() => {\n  // https://esm.sh/stable/preact@10.22.1/denonext/preact.mjs\n  var M;\n  var h;\n  var X;\n  var ie;\n  var C;\n  var J;\n  var Y;\n  var R;\n  var j;\n  var $;\n  var O;\n  var Z;\n  var T = {};\n  var ee = [];\n  var le = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n  var I = Array.isArray;\n  function b(_, e) {\n    for (var t in e) _[t] = e[t];\n    return _;\n  }\n  function _e(_) {\n    var e = _.parentNode;\n    e && e.removeChild(_);\n  }\n  function se(_, e, t) {\n    var i, n, r2, l2 = {};\n    for (r2 in e) r2 == \"key\" ? i = e[r2] : r2 == \"ref\" ? n = e[r2] : l2[r2] = e[r2];\n    if (arguments.length > 2 && (l2.children = arguments.length > 3 ? M.call(arguments, 2) : t), typeof _ == \"function\" && _.defaultProps != null) for (r2 in _.defaultProps) l2[r2] === void 0 && (l2[r2] = _.defaultProps[r2]);\n    return U(_, l2, i, n, null);\n  }\n  function U(_, e, t, i, n) {\n    var r2 = { type: _, props: e, key: t, ref: i, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, constructor: void 0, __v: n ?? ++X, __i: -1, __u: 0 };\n    return n == null && h.vnode != null && h.vnode(r2), r2;\n  }\n  function N(_) {\n    return _.children;\n  }\n  function F(_, e) {\n    this.props = _, this.context = e;\n  }\n  function x(_, e) {\n    if (e == null) return _.__ ? x(_.__, _.__i + 1) : null;\n    for (var t; e < _.__k.length; e++) if ((t = _.__k[e]) != null && t.__e != null) return t.__e;\n    return typeof _.type == \"function\" ? x(_) : null;\n  }\n  function te(_) {\n    var e, t;\n    if ((_ = _.__) != null && _.__c != null) {\n      for (_.__e = _.__c.base = null, e = 0; e < _.__k.length; e++) if ((t = _.__k[e]) != null && t.__e != null) {\n        _.__e = _.__c.base = t.__e;\n        break;\n      }\n      return te(_);\n    }\n  }\n  function B(_) {\n    (!_.__d && (_.__d = true) && C.push(_) && !H.__r++ || J !== h.debounceRendering) && ((J = h.debounceRendering) || Y)(H);\n  }\n  function H() {\n    var _, e, t, i, n, r2, l2, s;\n    for (C.sort(R); _ = C.shift(); ) _.__d && (e = C.length, i = void 0, r2 = (n = (t = _).__v).__e, l2 = [], s = [], t.__P && ((i = b({}, n)).__v = n.__v + 1, h.vnode && h.vnode(i), z(t.__P, i, n, t.__n, t.__P.namespaceURI, 32 & n.__u ? [r2] : null, l2, r2 ?? x(n), !!(32 & n.__u), s), i.__v = n.__v, i.__.__k[i.__i] = i, re(l2, i, s), i.__e != r2 && te(i)), C.length > e && C.sort(R));\n    H.__r = 0;\n  }\n  function ne(_, e, t, i, n, r2, l2, s, f, u, p2) {\n    var o2, m, c2, v2, g2, y = i && i.__k || ee, a = e.length;\n    for (t.__d = f, ue(t, e, y), f = t.__d, o2 = 0; o2 < a; o2++) (c2 = t.__k[o2]) != null && typeof c2 != \"boolean\" && typeof c2 != \"function\" && (m = c2.__i === -1 ? T : y[c2.__i] || T, c2.__i = o2, z(_, c2, m, n, r2, l2, s, f, u, p2), v2 = c2.__e, c2.ref && m.ref != c2.ref && (m.ref && q(m.ref, null, c2), p2.push(c2.ref, c2.__c || v2, c2)), g2 == null && v2 != null && (g2 = v2), 65536 & c2.__u || m.__k === c2.__k ? (f && typeof c2.type == \"string\" && !_.contains(f) && (f = x(m)), f = oe(c2, f, _)) : typeof c2.type == \"function\" && c2.__d !== void 0 ? f = c2.__d : v2 && (f = v2.nextSibling), c2.__d = void 0, c2.__u &= -196609);\n    t.__d = f, t.__e = g2;\n  }\n  function ue(_, e, t) {\n    var i, n, r2, l2, s, f = e.length, u = t.length, p2 = u, o2 = 0;\n    for (_.__k = [], i = 0; i < f; i++) l2 = i + o2, (n = _.__k[i] = (n = e[i]) == null || typeof n == \"boolean\" || typeof n == \"function\" ? null : typeof n == \"string\" || typeof n == \"number\" || typeof n == \"bigint\" || n.constructor == String ? U(null, n, null, null, null) : I(n) ? U(N, { children: n }, null, null, null) : n.constructor === void 0 && n.__b > 0 ? U(n.type, n.props, n.key, n.ref ? n.ref : null, n.__v) : n) != null ? (n.__ = _, n.__b = _.__b + 1, s = fe(n, t, l2, p2), n.__i = s, r2 = null, s !== -1 && (p2--, (r2 = t[s]) && (r2.__u |= 131072)), r2 == null || r2.__v === null ? (s == -1 && o2--, typeof n.type != \"function\" && (n.__u |= 65536)) : s !== l2 && (s == l2 - 1 ? o2 = s - l2 : s == l2 + 1 ? o2++ : s > l2 ? p2 > f - l2 ? o2 += s - l2 : o2-- : s < l2 && o2++, s !== i + o2 && (n.__u |= 65536))) : (r2 = t[l2]) && r2.key == null && r2.__e && !(131072 & r2.__u) && (r2.__e == _.__d && (_.__d = x(r2)), V(r2, r2, false), t[l2] = null, p2--);\n    if (p2) for (i = 0; i < u; i++) (r2 = t[i]) != null && !(131072 & r2.__u) && (r2.__e == _.__d && (_.__d = x(r2)), V(r2, r2));\n  }\n  function oe(_, e, t) {\n    var i, n;\n    if (typeof _.type == \"function\") {\n      for (i = _.__k, n = 0; i && n < i.length; n++) i[n] && (i[n].__ = _, e = oe(i[n], e, t));\n      return e;\n    }\n    _.__e != e && (t.insertBefore(_.__e, e || null), e = _.__e);\n    do\n      e = e && e.nextSibling;\n    while (e != null && e.nodeType === 8);\n    return e;\n  }\n  function fe(_, e, t, i) {\n    var n = _.key, r2 = _.type, l2 = t - 1, s = t + 1, f = e[t];\n    if (f === null || f && n == f.key && r2 === f.type && !(131072 & f.__u)) return t;\n    if (i > (f != null && !(131072 & f.__u) ? 1 : 0)) for (; l2 >= 0 || s < e.length; ) {\n      if (l2 >= 0) {\n        if ((f = e[l2]) && !(131072 & f.__u) && n == f.key && r2 === f.type) return l2;\n        l2--;\n      }\n      if (s < e.length) {\n        if ((f = e[s]) && !(131072 & f.__u) && n == f.key && r2 === f.type) return s;\n        s++;\n      }\n    }\n    return -1;\n  }\n  function K(_, e, t) {\n    e[0] === \"-\" ? _.setProperty(e, t ?? \"\") : _[e] = t == null ? \"\" : typeof t != \"number\" || le.test(e) ? t : t + \"px\";\n  }\n  function W(_, e, t, i, n) {\n    var r2;\n    e: if (e === \"style\") if (typeof t == \"string\") _.style.cssText = t;\n    else {\n      if (typeof i == \"string\" && (_.style.cssText = i = \"\"), i) for (e in i) t && e in t || K(_.style, e, \"\");\n      if (t) for (e in t) i && t[e] === i[e] || K(_.style, e, t[e]);\n    }\n    else if (e[0] === \"o\" && e[1] === \"n\") r2 = e !== (e = e.replace(/(PointerCapture)$|Capture$/i, \"$1\")), e = e.toLowerCase() in _ || e === \"onFocusOut\" || e === \"onFocusIn\" ? e.toLowerCase().slice(2) : e.slice(2), _.l || (_.l = {}), _.l[e + r2] = t, t ? i ? t.u = i.u : (t.u = j, _.addEventListener(e, r2 ? O : $, r2)) : _.removeEventListener(e, r2 ? O : $, r2);\n    else {\n      if (n == \"http://www.w3.org/2000/svg\") e = e.replace(/xlink(H|:h)/, \"h\").replace(/sName$/, \"s\");\n      else if (e != \"width\" && e != \"height\" && e != \"href\" && e != \"list\" && e != \"form\" && e != \"tabIndex\" && e != \"download\" && e != \"rowSpan\" && e != \"colSpan\" && e != \"role\" && e != \"popover\" && e in _) try {\n        _[e] = t ?? \"\";\n        break e;\n      } catch {\n      }\n      typeof t == \"function\" || (t == null || t === false && e[4] !== \"-\" ? _.removeAttribute(e) : _.setAttribute(e, e == \"popover\" && t == 1 ? \"\" : t));\n    }\n  }\n  function Q(_) {\n    return function(e) {\n      if (this.l) {\n        var t = this.l[e.type + _];\n        if (e.t == null) e.t = j++;\n        else if (e.t < t.u) return;\n        return t(h.event ? h.event(e) : e);\n      }\n    };\n  }\n  function z(_, e, t, i, n, r2, l2, s, f, u) {\n    var p2, o2, m, c2, v2, g2, y, a, d2, P2, w2, D2, S2, G2, E2, A2, k2 = e.type;\n    if (e.constructor !== void 0) return null;\n    128 & t.__u && (f = !!(32 & t.__u), r2 = [s = e.__e = t.__e]), (p2 = h.__b) && p2(e);\n    e: if (typeof k2 == \"function\") try {\n      if (a = e.props, d2 = \"prototype\" in k2 && k2.prototype.render, P2 = (p2 = k2.contextType) && i[p2.__c], w2 = p2 ? P2 ? P2.props.value : p2.__ : i, t.__c ? y = (o2 = e.__c = t.__c).__ = o2.__E : (d2 ? e.__c = o2 = new k2(a, w2) : (e.__c = o2 = new F(a, w2), o2.constructor = k2, o2.render = ae), P2 && P2.sub(o2), o2.props = a, o2.state || (o2.state = {}), o2.context = w2, o2.__n = i, m = o2.__d = true, o2.__h = [], o2._sb = []), d2 && o2.__s == null && (o2.__s = o2.state), d2 && k2.getDerivedStateFromProps != null && (o2.__s == o2.state && (o2.__s = b({}, o2.__s)), b(o2.__s, k2.getDerivedStateFromProps(a, o2.__s))), c2 = o2.props, v2 = o2.state, o2.__v = e, m) d2 && k2.getDerivedStateFromProps == null && o2.componentWillMount != null && o2.componentWillMount(), d2 && o2.componentDidMount != null && o2.__h.push(o2.componentDidMount);\n      else {\n        if (d2 && k2.getDerivedStateFromProps == null && a !== c2 && o2.componentWillReceiveProps != null && o2.componentWillReceiveProps(a, w2), !o2.__e && (o2.shouldComponentUpdate != null && o2.shouldComponentUpdate(a, o2.__s, w2) === false || e.__v === t.__v)) {\n          for (e.__v !== t.__v && (o2.props = a, o2.state = o2.__s, o2.__d = false), e.__e = t.__e, e.__k = t.__k, e.__k.forEach(function(L) {\n            L && (L.__ = e);\n          }), D2 = 0; D2 < o2._sb.length; D2++) o2.__h.push(o2._sb[D2]);\n          o2._sb = [], o2.__h.length && l2.push(o2);\n          break e;\n        }\n        o2.componentWillUpdate != null && o2.componentWillUpdate(a, o2.__s, w2), d2 && o2.componentDidUpdate != null && o2.__h.push(function() {\n          o2.componentDidUpdate(c2, v2, g2);\n        });\n      }\n      if (o2.context = w2, o2.props = a, o2.__P = _, o2.__e = false, S2 = h.__r, G2 = 0, d2) {\n        for (o2.state = o2.__s, o2.__d = false, S2 && S2(e), p2 = o2.render(o2.props, o2.state, o2.context), E2 = 0; E2 < o2._sb.length; E2++) o2.__h.push(o2._sb[E2]);\n        o2._sb = [];\n      } else do\n        o2.__d = false, S2 && S2(e), p2 = o2.render(o2.props, o2.state, o2.context), o2.state = o2.__s;\n      while (o2.__d && ++G2 < 25);\n      o2.state = o2.__s, o2.getChildContext != null && (i = b(b({}, i), o2.getChildContext())), d2 && !m && o2.getSnapshotBeforeUpdate != null && (g2 = o2.getSnapshotBeforeUpdate(c2, v2)), ne(_, I(A2 = p2 != null && p2.type === N && p2.key == null ? p2.props.children : p2) ? A2 : [A2], e, t, i, n, r2, l2, s, f, u), o2.base = e.__e, e.__u &= -161, o2.__h.length && l2.push(o2), y && (o2.__E = o2.__ = null);\n    } catch (L) {\n      e.__v = null, f || r2 != null ? (e.__e = s, e.__u |= f ? 160 : 32, r2[r2.indexOf(s)] = null) : (e.__e = t.__e, e.__k = t.__k), h.__e(L, e, t);\n    }\n    else r2 == null && e.__v === t.__v ? (e.__k = t.__k, e.__e = t.__e) : e.__e = pe(t.__e, e, t, i, n, r2, l2, f, u);\n    (p2 = h.diffed) && p2(e);\n  }\n  function re(_, e, t) {\n    e.__d = void 0;\n    for (var i = 0; i < t.length; i++) q(t[i], t[++i], t[++i]);\n    h.__c && h.__c(e, _), _.some(function(n) {\n      try {\n        _ = n.__h, n.__h = [], _.some(function(r2) {\n          r2.call(n);\n        });\n      } catch (r2) {\n        h.__e(r2, n.__v);\n      }\n    });\n  }\n  function pe(_, e, t, i, n, r2, l2, s, f) {\n    var u, p2, o2, m, c2, v2, g2, y = t.props, a = e.props, d2 = e.type;\n    if (d2 === \"svg\" ? n = \"http://www.w3.org/2000/svg\" : d2 === \"math\" ? n = \"http://www.w3.org/1998/Math/MathML\" : n || (n = \"http://www.w3.org/1999/xhtml\"), r2 != null) {\n      for (u = 0; u < r2.length; u++) if ((c2 = r2[u]) && \"setAttribute\" in c2 == !!d2 && (d2 ? c2.localName === d2 : c2.nodeType === 3)) {\n        _ = c2, r2[u] = null;\n        break;\n      }\n    }\n    if (_ == null) {\n      if (d2 === null) return document.createTextNode(a);\n      _ = document.createElementNS(n, d2, a.is && a), r2 = null, s = false;\n    }\n    if (d2 === null) y === a || s && _.data === a || (_.data = a);\n    else {\n      if (r2 = r2 && M.call(_.childNodes), y = t.props || T, !s && r2 != null) for (y = {}, u = 0; u < _.attributes.length; u++) y[(c2 = _.attributes[u]).name] = c2.value;\n      for (u in y) if (c2 = y[u], u != \"children\") {\n        if (u == \"dangerouslySetInnerHTML\") o2 = c2;\n        else if (u !== \"key\" && !(u in a)) {\n          if (u == \"value\" && \"defaultValue\" in a || u == \"checked\" && \"defaultChecked\" in a) continue;\n          W(_, u, null, c2, n);\n        }\n      }\n      for (u in a) c2 = a[u], u == \"children\" ? m = c2 : u == \"dangerouslySetInnerHTML\" ? p2 = c2 : u == \"value\" ? v2 = c2 : u == \"checked\" ? g2 = c2 : u === \"key\" || s && typeof c2 != \"function\" || y[u] === c2 || W(_, u, c2, y[u], n);\n      if (p2) s || o2 && (p2.__html === o2.__html || p2.__html === _.innerHTML) || (_.innerHTML = p2.__html), e.__k = [];\n      else if (o2 && (_.innerHTML = \"\"), ne(_, I(m) ? m : [m], e, t, i, d2 === \"foreignObject\" ? \"http://www.w3.org/1999/xhtml\" : n, r2, l2, r2 ? r2[0] : t.__k && x(t, 0), s, f), r2 != null) for (u = r2.length; u--; ) r2[u] != null && _e(r2[u]);\n      s || (u = \"value\", v2 !== void 0 && (v2 !== _[u] || d2 === \"progress\" && !v2 || d2 === \"option\" && v2 !== y[u]) && W(_, u, v2, y[u], n), u = \"checked\", g2 !== void 0 && g2 !== _[u] && W(_, u, g2, y[u], n));\n    }\n    return _;\n  }\n  function q(_, e, t) {\n    try {\n      typeof _ == \"function\" ? _(e) : _.current = e;\n    } catch (i) {\n      h.__e(i, t);\n    }\n  }\n  function V(_, e, t) {\n    var i, n;\n    if (h.unmount && h.unmount(_), (i = _.ref) && (i.current && i.current !== _.__e || q(i, null, e)), (i = _.__c) != null) {\n      if (i.componentWillUnmount) try {\n        i.componentWillUnmount();\n      } catch (r2) {\n        h.__e(r2, e);\n      }\n      i.base = i.__P = null;\n    }\n    if (i = _.__k) for (n = 0; n < i.length; n++) i[n] && V(i[n], e, t || typeof _.type != \"function\");\n    t || _.__e == null || _e(_.__e), _.__c = _.__ = _.__e = _.__d = void 0;\n  }\n  function ae(_, e, t) {\n    return this.constructor(_, t);\n  }\n  function de(_, e, t) {\n    var i, n, r2, l2;\n    h.__ && h.__(_, e), n = (i = typeof t == \"function\") ? null : t && t.__k || e.__k, r2 = [], l2 = [], z(e, _ = (!i && t || e).__k = se(N, null, [_]), n || T, T, e.namespaceURI, !i && t ? [t] : n ? null : e.firstChild ? M.call(e.childNodes) : null, r2, !i && t ? t : n ? n.__e : e.firstChild, i, l2), re(r2, _, l2);\n  }\n  function he(_, e) {\n    de(_, e, he);\n  }\n  M = ee.slice, h = { __e: function(_, e, t, i) {\n    for (var n, r2, l2; e = e.__; ) if ((n = e.__c) && !n.__) try {\n      if ((r2 = n.constructor) && r2.getDerivedStateFromError != null && (n.setState(r2.getDerivedStateFromError(_)), l2 = n.__d), n.componentDidCatch != null && (n.componentDidCatch(_, i || {}), l2 = n.__d), l2) return n.__E = n;\n    } catch (s) {\n      _ = s;\n    }\n    throw _;\n  } }, X = 0, ie = function(_) {\n    return _ != null && _.constructor == null;\n  }, F.prototype.setState = function(_, e) {\n    var t;\n    t = this.__s != null && this.__s !== this.state ? this.__s : this.__s = b({}, this.state), typeof _ == \"function\" && (_ = _(b({}, t), this.props)), _ && b(t, _), _ != null && this.__v && (e && this._sb.push(e), B(this));\n  }, F.prototype.forceUpdate = function(_) {\n    this.__v && (this.__e = true, _ && this.__h.push(_), B(this));\n  }, F.prototype.render = N, C = [], Y = typeof Promise == \"function\" ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, R = function(_, e) {\n    return _.__v.__b - e.__v.__b;\n  }, H.__r = 0, j = 0, $ = Q(false), O = Q(true), Z = 0;\n\n  // client/app.tsx\n  var App = (props) => {\n    return /* @__PURE__ */ se(\n      \"div\",\n      {\n        style: {\n          display: \"grid\",\n          gap: 16\n        }\n      },\n      /* @__PURE__ */ se(\n        \"h1\",\n        {\n          style: {\n            margin: 0,\n            padding: 16\n          }\n        },\n        \"definy\"\n      ),\n      /* @__PURE__ */ se(\n        \"button\",\n        {\n          type: \"button\",\n          onClick: () => {\n            props.setState((prev) => prev + 1);\n          }\n        },\n        \"count: \",\n        props.state\n      ),\n      /* @__PURE__ */ se(\"button\", { type: \"button\", onClick: props.signUp }, \"Sign Up\")\n    );\n  };\n\n  // https://esm.sh/stable/preact@10.22.1/denonext/hooks.js\n  var c;\n  var r;\n  var d;\n  var b2;\n  var v = 0;\n  var x2 = [];\n  var o = h;\n  var g = o.__b;\n  var C2 = o.__r;\n  var A = o.diffed;\n  var D = o.__c;\n  var F2 = o.unmount;\n  var k = o.__;\n  function l(t, _) {\n    o.__h && o.__h(r, t, v || _), v = 0;\n    var u = r.__H || (r.__H = { __: [], __h: [] });\n    return t >= u.__.length && u.__.push({}), u.__[t];\n  }\n  function B2(t) {\n    return v = 1, I2(U2, t);\n  }\n  function I2(t, _, u) {\n    var n = l(c++, 2);\n    if (n.t = t, !n.__c && (n.__ = [u ? u(_) : U2(void 0, _), function(a) {\n      var f = n.__N ? n.__N[0] : n.__[0], s = n.t(f, a);\n      f !== s && (n.__N = [s, n.__[1]], n.__c.setState({}));\n    }], n.__c = r, !r.u)) {\n      var i = function(a, f, s) {\n        if (!n.__c.__H) return true;\n        var m = n.__c.__H.__.filter(function(e) {\n          return !!e.__c;\n        });\n        if (m.every(function(e) {\n          return !e.__N;\n        })) return !h2 || h2.call(this, a, f, s);\n        var N3 = false;\n        return m.forEach(function(e) {\n          if (e.__N) {\n            var P2 = e.__[0];\n            e.__ = e.__N, e.__N = void 0, P2 !== e.__[0] && (N3 = true);\n          }\n        }), !(!N3 && n.__c.props === a) && (!h2 || h2.call(this, a, f, s));\n      };\n      r.u = true;\n      var h2 = r.shouldComponentUpdate, y = r.componentWillUpdate;\n      r.componentWillUpdate = function(a, f, s) {\n        if (this.__e) {\n          var m = h2;\n          h2 = void 0, i(a, f, s), h2 = m;\n        }\n        y && y.call(this, a, f, s);\n      }, r.shouldComponentUpdate = i;\n    }\n    return n.__N || n.__;\n  }\n  function w(t, _) {\n    var u = l(c++, 3);\n    !o.__s && E(u.__H, _) && (u.__ = t, u.i = _, r.__H.__h.push(u));\n  }\n  function z2(t) {\n    return v = 5, T2(function() {\n      return { current: t };\n    }, []);\n  }\n  function T2(t, _) {\n    var u = l(c++, 7);\n    return E(u.__H, _) && (u.__ = t(), u.__H = _, u.__h = t), u.__;\n  }\n  function S() {\n    for (var t; t = x2.shift(); ) if (t.__P && t.__H) try {\n      t.__H.__h.forEach(p), t.__H.__h.forEach(H2), t.__H.__h = [];\n    } catch (_) {\n      t.__H.__h = [], o.__e(_, t.__v);\n    }\n  }\n  o.__b = function(t) {\n    r = null, g && g(t);\n  }, o.__ = function(t, _) {\n    t && _.__k && _.__k.__m && (t.__m = _.__k.__m), k && k(t, _);\n  }, o.__r = function(t) {\n    C2 && C2(t), c = 0;\n    var _ = (r = t.__c).__H;\n    _ && (d === r ? (_.__h = [], r.__h = [], _.__.forEach(function(u) {\n      u.__N && (u.__ = u.__N), u.i = u.__N = void 0;\n    })) : (_.__h.forEach(p), _.__h.forEach(H2), _.__h = [], c = 0)), d = r;\n  }, o.diffed = function(t) {\n    A && A(t);\n    var _ = t.__c;\n    _ && _.__H && (_.__H.__h.length && (x2.push(_) !== 1 && b2 === o.requestAnimationFrame || ((b2 = o.requestAnimationFrame) || W2)(S)), _.__H.__.forEach(function(u) {\n      u.i && (u.__H = u.i), u.i = void 0;\n    })), d = r = null;\n  }, o.__c = function(t, _) {\n    _.some(function(u) {\n      try {\n        u.__h.forEach(p), u.__h = u.__h.filter(function(n) {\n          return !n.__ || H2(n);\n        });\n      } catch (n) {\n        _.some(function(i) {\n          i.__h && (i.__h = []);\n        }), _ = [], o.__e(n, u.__v);\n      }\n    }), D && D(t, _);\n  }, o.unmount = function(t) {\n    F2 && F2(t);\n    var _, u = t.__c;\n    u && u.__H && (u.__H.__.forEach(function(n) {\n      try {\n        p(n);\n      } catch (i) {\n        _ = i;\n      }\n    }), u.__H = void 0, _ && o.__e(_, u.__v));\n  };\n  var q2 = typeof requestAnimationFrame == \"function\";\n  function W2(t) {\n    var _, u = function() {\n      clearTimeout(n), q2 && cancelAnimationFrame(_), setTimeout(t);\n    }, n = setTimeout(u, 100);\n    q2 && (_ = requestAnimationFrame(u));\n  }\n  function p(t) {\n    var _ = r, u = t.__c;\n    typeof u == \"function\" && (t.__c = void 0, u()), r = _;\n  }\n  function H2(t) {\n    var _ = r;\n    t.__c = t.__(), r = _;\n  }\n  function E(t, _) {\n    return !t || t.length !== _.length || _.some(function(u, n) {\n      return u !== t[n];\n    });\n  }\n  function U2(t, _) {\n    return typeof _ == \"function\" ? _(t) : _;\n  }\n\n  // https://jsr.io/@noble/secp256k1/2.1.0/index.ts\n  var B256 = 2n ** 256n;\n  var P = B256 - 0x1000003d1n;\n  var N2 = B256 - 0x14551231950b75fc4402da1732fc9bebfn;\n  var Gx = 0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n;\n  var Gy = 0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n;\n  var CURVE = { p: P, n: N2, a: 0n, b: 7n, Gx, Gy };\n  var fLen = 32;\n  var crv = (x3) => mod(mod(x3 * x3) * x3 + CURVE.b);\n  var err = (m = \"\") => {\n    throw new Error(m);\n  };\n  var big = (n) => typeof n === \"bigint\";\n  var str = (s) => typeof s === \"string\";\n  var fe2 = (n) => big(n) && 0n < n && n < P;\n  var ge = (n) => big(n) && 0n < n && n < N2;\n  var isu8 = (a) => a instanceof Uint8Array || a != null && typeof a === \"object\" && a.constructor.name === \"Uint8Array\";\n  var au8 = (a, l2) => (\n    // assert is Uint8Array (of specific length)\n    !isu8(a) || typeof l2 === \"number\" && l2 > 0 && a.length !== l2 ? err(\"Uint8Array expected\") : a\n  );\n  var u8n = (data) => new Uint8Array(data);\n  var toU8 = (a, len) => au8(str(a) ? h2b(a) : u8n(au8(a)), len);\n  var mod = (a, b3 = P) => {\n    let r2 = a % b3;\n    return r2 >= 0n ? r2 : b3 + r2;\n  };\n  var isPoint = (p2) => p2 instanceof Point ? p2 : err(\"Point expected\");\n  var Point = class _Point {\n    // Point in 3d xyz projective coordinates\n    constructor(px, py, pz) {\n      this.px = px;\n      this.py = py;\n      this.pz = pz;\n    }\n    //3d=less inversions\n    static BASE = new _Point(Gx, Gy, 1n);\n    // Generator / base point\n    static ZERO = new _Point(0n, 1n, 0n);\n    // Identity / zero point\n    static fromAffine(p2) {\n      return p2.x === 0n && p2.y === 0n ? _Point.ZERO : new _Point(p2.x, p2.y, 1n);\n    }\n    static fromHex(hex) {\n      hex = toU8(hex);\n      let p2 = void 0;\n      const head = hex[0], tail = hex.subarray(1);\n      const x3 = slcNum(tail, 0, fLen), len = hex.length;\n      if (len === 33 && [2, 3].includes(head)) {\n        if (!fe2(x3)) err(\"Point hex invalid: x not FE\");\n        let y = sqrt(crv(x3));\n        const isYOdd = (y & 1n) === 1n;\n        const headOdd = (head & 1) === 1;\n        if (headOdd !== isYOdd) y = mod(-y);\n        p2 = new _Point(x3, y, 1n);\n      }\n      if (len === 65 && head === 4) p2 = new _Point(x3, slcNum(tail, fLen, 2 * fLen), 1n);\n      return p2 ? p2.ok() : err(\"Point is not on curve\");\n    }\n    static fromPrivateKey(k2) {\n      return G.mul(toPriv(k2));\n    }\n    // Create point from a private key.\n    get x() {\n      return this.aff().x;\n    }\n    // .x, .y will call expensive toAffine:\n    get y() {\n      return this.aff().y;\n    }\n    // should be used with care.\n    equals(other) {\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      const { px: X2, py: Y2, pz: Z2 } = isPoint(other);\n      const X1Z2 = mod(X1 * Z2), X2Z1 = mod(X2 * Z1);\n      const Y1Z2 = mod(Y1 * Z2), Y2Z1 = mod(Y2 * Z1);\n      return X1Z2 === X2Z1 && Y1Z2 === Y2Z1;\n    }\n    negate() {\n      return new _Point(this.px, mod(-this.py), this.pz);\n    }\n    // Flip point over y coord\n    double() {\n      return this.add(this);\n    }\n    // Point doubling: P+P, complete formula.\n    add(other) {\n      const { px: X1, py: Y1, pz: Z1 } = this;\n      const { px: X2, py: Y2, pz: Z2 } = isPoint(other);\n      const { a, b: b3 } = CURVE;\n      let X3 = 0n, Y3 = 0n, Z3 = 0n;\n      const b32 = mod(b3 * 3n);\n      let t0 = mod(X1 * X2), t1 = mod(Y1 * Y2), t2 = mod(Z1 * Z2), t3 = mod(X1 + Y1);\n      let t4 = mod(X2 + Y2);\n      t3 = mod(t3 * t4);\n      t4 = mod(t0 + t1);\n      t3 = mod(t3 - t4);\n      t4 = mod(X1 + Z1);\n      let t5 = mod(X2 + Z2);\n      t4 = mod(t4 * t5);\n      t5 = mod(t0 + t2);\n      t4 = mod(t4 - t5);\n      t5 = mod(Y1 + Z1);\n      X3 = mod(Y2 + Z2);\n      t5 = mod(t5 * X3);\n      X3 = mod(t1 + t2);\n      t5 = mod(t5 - X3);\n      Z3 = mod(a * t4);\n      X3 = mod(b32 * t2);\n      Z3 = mod(X3 + Z3);\n      X3 = mod(t1 - Z3);\n      Z3 = mod(t1 + Z3);\n      Y3 = mod(X3 * Z3);\n      t1 = mod(t0 + t0);\n      t1 = mod(t1 + t0);\n      t2 = mod(a * t2);\n      t4 = mod(b32 * t4);\n      t1 = mod(t1 + t2);\n      t2 = mod(t0 - t2);\n      t2 = mod(a * t2);\n      t4 = mod(t4 + t2);\n      t0 = mod(t1 * t4);\n      Y3 = mod(Y3 + t0);\n      t0 = mod(t5 * t4);\n      X3 = mod(t3 * X3);\n      X3 = mod(X3 - t0);\n      t0 = mod(t3 * t1);\n      Z3 = mod(t5 * Z3);\n      Z3 = mod(Z3 + t0);\n      return new _Point(X3, Y3, Z3);\n    }\n    mul(n, safe = true) {\n      if (!safe && n === 0n) return I3;\n      if (!ge(n)) err(\"invalid scalar\");\n      if (this.equals(G)) return wNAF(n).p;\n      let p2 = I3, f = G;\n      for (let d2 = this; n > 0n; d2 = d2.double(), n >>= 1n) {\n        if (n & 1n) p2 = p2.add(d2);\n        else if (safe) f = f.add(d2);\n      }\n      return p2;\n    }\n    mulAddQUns(R2, u1, u2) {\n      return this.mul(u1, false).add(R2.mul(u2, false)).ok();\n    }\n    // to private keys. Doesn't use Shamir trick\n    toAffine() {\n      const { px: x3, py: y, pz: z3 } = this;\n      if (this.equals(I3)) return { x: 0n, y: 0n };\n      if (z3 === 1n) return { x: x3, y };\n      const iz = inv(z3);\n      if (mod(z3 * iz) !== 1n) err(\"invalid inverse\");\n      return { x: mod(x3 * iz), y: mod(y * iz) };\n    }\n    assertValidity() {\n      const { x: x3, y } = this.aff();\n      if (!fe2(x3) || !fe2(y)) err(\"Point invalid: x or y\");\n      return mod(y * y) === crv(x3) ? (\n        // y² = x³ + ax + b, must be equal\n        this\n      ) : err(\"Point invalid: not on curve\");\n    }\n    multiply(n) {\n      return this.mul(n);\n    }\n    // Aliases to compress code\n    aff() {\n      return this.toAffine();\n    }\n    ok() {\n      return this.assertValidity();\n    }\n    toHex(isCompressed = true) {\n      const { x: x3, y } = this.aff();\n      const head = isCompressed ? (y & 1n) === 0n ? \"02\" : \"03\" : \"04\";\n      return head + n2h(x3) + (isCompressed ? \"\" : n2h(y));\n    }\n    toRawBytes(isCompressed = true) {\n      return h2b(this.toHex(isCompressed));\n    }\n  };\n  var { BASE: G, ZERO: I3 } = Point;\n  var padh = (n, pad) => n.toString(16).padStart(pad, \"0\");\n  var b2h = (b3) => Array.from(b3).map((e) => padh(e, 2)).join(\"\");\n  var h2b = (hex) => {\n    const l2 = hex.length;\n    if (!str(hex) || l2 % 2) err(\"hex invalid 1\");\n    const arr = u8n(l2 / 2);\n    for (let i = 0; i < arr.length; i++) {\n      const j2 = i * 2;\n      const h2 = hex.slice(j2, j2 + 2);\n      const b3 = Number.parseInt(h2, 16);\n      if (Number.isNaN(b3) || b3 < 0) err(\"hex invalid 2\");\n      arr[i] = b3;\n    }\n    return arr;\n  };\n  var b2n = (b3) => BigInt(\"0x\" + (b2h(b3) || \"0\"));\n  var slcNum = (b3, from, to) => b2n(b3.slice(from, to));\n  var n2b = (num) => {\n    return big(num) && num >= 0n && num < B256 ? h2b(padh(num, 2 * fLen)) : err(\"bigint expected\");\n  };\n  var n2h = (num) => b2h(n2b(num));\n  var concatB = (...arrs) => {\n    const r2 = u8n(arrs.reduce((sum, a) => sum + au8(a).length, 0));\n    let pad = 0;\n    arrs.forEach((a) => {\n      r2.set(a, pad);\n      pad += a.length;\n    });\n    return r2;\n  };\n  var inv = (num, md = P) => {\n    if (num === 0n || md <= 0n) err(\"no inverse n=\" + num + \" mod=\" + md);\n    let a = mod(num, md), b3 = md, x3 = 0n, y = 1n, u = 1n, v2 = 0n;\n    while (a !== 0n) {\n      const q3 = b3 / a, r2 = b3 % a;\n      const m = x3 - u * q3, n = y - v2 * q3;\n      b3 = a, a = r2, x3 = u, y = v2, u = m, v2 = n;\n    }\n    return b3 === 1n ? mod(x3, md) : err(\"no inverse\");\n  };\n  var sqrt = (n) => {\n    let r2 = 1n;\n    for (let num = n, e = (P + 1n) / 4n; e > 0n; e >>= 1n) {\n      if (e & 1n) r2 = r2 * num % P;\n      num = num * num % P;\n    }\n    return mod(r2 * r2) === n ? r2 : err(\"sqrt invalid\");\n  };\n  var toPriv = (p2) => {\n    if (!big(p2)) p2 = b2n(toU8(p2, fLen));\n    return ge(p2) ? p2 : err(\"private key out of range\");\n  };\n  var cr = () => (\n    // We support: 1) browsers 2) node.js 19+ 3) deno, other envs with crypto\n    typeof globalThis === \"object\" && \"crypto\" in globalThis ? globalThis.crypto : void 0\n  );\n  var _hmacSync;\n  var hashToPrivateKey = (hash) => {\n    hash = toU8(hash);\n    const minLen = fLen + 8;\n    if (hash.length < minLen || hash.length > 1024) err(\"expected proper params\");\n    const num = mod(b2n(hash), N2 - 1n) + 1n;\n    return n2b(num);\n  };\n  var etc = {\n    // Not placed in utils because they\n    hexToBytes: h2b,\n    bytesToHex: b2h,\n    // share API with noble-curves.\n    concatBytes: concatB,\n    bytesToNumberBE: b2n,\n    numberToBytesBE: n2b,\n    mod,\n    invert: inv,\n    // math utilities\n    hmacSha256Async: async (key, ...msgs) => {\n      const c2 = cr();\n      const s = c2 && c2.subtle;\n      if (!s) return err(\"etc.hmacSha256Async not set\");\n      const k2 = await s.importKey(\"raw\", key, { name: \"HMAC\", hash: { name: \"SHA-256\" } }, false, [\"sign\"]);\n      return u8n(await s.sign(\"HMAC\", k2, concatB(...msgs)));\n    },\n    hmacSha256Sync: _hmacSync,\n    // For TypeScript. Actual logic is below\n    hashToPrivateKey,\n    randomBytes: (len = 32) => {\n      const crypto = cr();\n      if (!crypto || !crypto.getRandomValues) err(\"crypto.getRandomValues must be defined\");\n      return crypto.getRandomValues(u8n(len));\n    }\n  };\n  var utils = {\n    // utilities\n    normPrivateKeyToScalar: toPriv,\n    isValidPrivateKey: (key) => {\n      try {\n        return !!toPriv(key);\n      } catch (e) {\n        return false;\n      }\n    },\n    randomPrivateKey: () => hashToPrivateKey(etc.randomBytes(fLen + 16)),\n    // FIPS 186 B.4.1.\n    precompute(w2 = 8, p2 = G) {\n      p2.multiply(3n);\n      w2;\n      return p2;\n    }\n    // no-op\n  };\n  Object.defineProperties(etc, { hmacSha256Sync: {\n    // Allow setting it once, ignore then\n    configurable: false,\n    get() {\n      return _hmacSync;\n    },\n    set(f) {\n      if (!_hmacSync) _hmacSync = f;\n    }\n  } });\n  var W3 = 8;\n  var precompute = () => {\n    const points = [];\n    const windows = 256 / W3 + 1;\n    let p2 = G, b3 = p2;\n    for (let w2 = 0; w2 < windows; w2++) {\n      b3 = p2;\n      points.push(b3);\n      for (let i = 1; i < 2 ** (W3 - 1); i++) {\n        b3 = b3.add(p2);\n        points.push(b3);\n      }\n      p2 = b3.double();\n    }\n    return points;\n  };\n  var Gpows = void 0;\n  var wNAF = (n) => {\n    const comp = Gpows || (Gpows = precompute());\n    const neg = (cnd, p3) => {\n      let n2 = p3.negate();\n      return cnd ? n2 : p3;\n    };\n    let p2 = I3, f = G;\n    const windows = 1 + 256 / W3;\n    const wsize = 2 ** (W3 - 1);\n    const mask = BigInt(2 ** W3 - 1);\n    const maxNum = 2 ** W3;\n    const shiftBy = BigInt(W3);\n    for (let w2 = 0; w2 < windows; w2++) {\n      const off = w2 * wsize;\n      let wbits = Number(n & mask);\n      n >>= shiftBy;\n      if (wbits > wsize) {\n        wbits -= maxNum;\n        n += 1n;\n      }\n      const off1 = off, off2 = off + Math.abs(wbits) - 1;\n      const cnd1 = w2 % 2 !== 0, cnd2 = wbits < 0;\n      if (wbits === 0) {\n        f = f.add(neg(cnd1, comp[off1]));\n      } else {\n        p2 = p2.add(neg(cnd2, comp[off2]));\n      }\n    }\n    return { p: p2, f };\n  };\n\n  // https://jsr.io/@std/encoding/0.224.3/_validate_binary_like.ts\n  var encoder = new TextEncoder();\n  function getTypeName(value) {\n    const type = typeof value;\n    if (type !== \"object\") {\n      return type;\n    } else if (value === null) {\n      return \"null\";\n    } else {\n      return value?.constructor?.name ?? \"object\";\n    }\n  }\n  function validateBinaryLike(source) {\n    if (typeof source === \"string\") {\n      return encoder.encode(source);\n    } else if (source instanceof Uint8Array) {\n      return source;\n    } else if (source instanceof ArrayBuffer) {\n      return new Uint8Array(source);\n    }\n    throw new TypeError(\n      `The input must be a Uint8Array, a string, or an ArrayBuffer. Received a value of the type ${getTypeName(source)}.`\n    );\n  }\n\n  // https://jsr.io/@std/encoding/0.224.3/base64.ts\n  var base64abc = [\n    \"A\",\n    \"B\",\n    \"C\",\n    \"D\",\n    \"E\",\n    \"F\",\n    \"G\",\n    \"H\",\n    \"I\",\n    \"J\",\n    \"K\",\n    \"L\",\n    \"M\",\n    \"N\",\n    \"O\",\n    \"P\",\n    \"Q\",\n    \"R\",\n    \"S\",\n    \"T\",\n    \"U\",\n    \"V\",\n    \"W\",\n    \"X\",\n    \"Y\",\n    \"Z\",\n    \"a\",\n    \"b\",\n    \"c\",\n    \"d\",\n    \"e\",\n    \"f\",\n    \"g\",\n    \"h\",\n    \"i\",\n    \"j\",\n    \"k\",\n    \"l\",\n    \"m\",\n    \"n\",\n    \"o\",\n    \"p\",\n    \"q\",\n    \"r\",\n    \"s\",\n    \"t\",\n    \"u\",\n    \"v\",\n    \"w\",\n    \"x\",\n    \"y\",\n    \"z\",\n    \"0\",\n    \"1\",\n    \"2\",\n    \"3\",\n    \"4\",\n    \"5\",\n    \"6\",\n    \"7\",\n    \"8\",\n    \"9\",\n    \"+\",\n    \"/\"\n  ];\n  function encodeBase64(data) {\n    const uint8 = validateBinaryLike(data);\n    let result = \"\";\n    let i;\n    const l2 = uint8.length;\n    for (i = 2; i < l2; i += 3) {\n      result += base64abc[uint8[i - 2] >> 2];\n      result += base64abc[(uint8[i - 2] & 3) << 4 | uint8[i - 1] >> 4];\n      result += base64abc[(uint8[i - 1] & 15) << 2 | uint8[i] >> 6];\n      result += base64abc[uint8[i] & 63];\n    }\n    if (i === l2 + 1) {\n      result += base64abc[uint8[i - 2] >> 2];\n      result += base64abc[(uint8[i - 2] & 3) << 4];\n      result += \"==\";\n    }\n    if (i === l2) {\n      result += base64abc[uint8[i - 2] >> 2];\n      result += base64abc[(uint8[i - 2] & 3) << 4 | uint8[i - 1] >> 4];\n      result += base64abc[(uint8[i - 1] & 15) << 2];\n      result += \"=\";\n    }\n    return result;\n  }\n\n  // https://jsr.io/@std/encoding/0.224.3/base64url.ts\n  function convertBase64ToBase64url(b64) {\n    return b64.endsWith(\"=\") ? b64.endsWith(\"==\") ? b64.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").slice(0, -2) : b64.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").slice(0, -1) : b64.replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n  }\n  function encodeBase64Url(data) {\n    return convertBase64ToBase64url(encodeBase64(data));\n  }\n\n  // client/Dialog.tsx\n  var Dialog = (props) => {\n    const ref = z2(null);\n    w(() => {\n      ref.current?.addEventListener(\"close\", props.onClose);\n      const clickHandler = (event) => {\n        if (event.target instanceof HTMLElement) {\n          if (event.target.closest(\"form\") === null) {\n            props.onClose();\n          }\n        }\n      };\n      ref.current?.addEventListener(\"click\", clickHandler);\n      return () => {\n        ref.current?.removeEventListener(\"close\", props.onClose);\n        ref.current?.removeEventListener(\"click\", clickHandler);\n      };\n    }, [props.onClose, ref.current]);\n    w(() => {\n      if (props.isOpen) {\n        ref.current?.showModal();\n      } else {\n        ref.current?.close();\n      }\n    }, [props.isOpen]);\n    if (!props.isOpen) {\n      return null;\n    }\n    return /* @__PURE__ */ se(\n      \"dialog\",\n      {\n        ref,\n        style: {\n          width: \"80%\",\n          boxShadow: \"0px 20px 36px 0px rgba(0, 0, 0, 0.6)\"\n        }\n      },\n      props.children\n    );\n  };\n\n  // client/SignUpDialog.tsx\n  var SignUpDialog = (props) => {\n    if (props.privateKey === null) {\n      return null;\n    }\n    return /* @__PURE__ */ se(\n      Dialog,\n      {\n        isOpen: props.privateKey !== null,\n        onClose: props.onClose\n      },\n      /* @__PURE__ */ se(\n        \"form\",\n        {\n          method: \"dialog\",\n          style: {\n            display: \"grid\",\n            gap: 16\n          }\n        },\n        /* @__PURE__ */ se(\n          \"div\",\n          {\n            style: {\n              display: \"flex\"\n            }\n          },\n          /* @__PURE__ */ se(\n            \"h2\",\n            {\n              style: {\n                margin: 0,\n                flexGrow: 1\n              }\n            },\n            \"Sign Up\"\n          ),\n          /* @__PURE__ */ se(\"button\", { type: \"button\", onClick: props.onClose }, \"x\")\n        ),\n        /* @__PURE__ */ se(\"label\", null, /* @__PURE__ */ se(\"div\", null, \"Username\"), /* @__PURE__ */ se(\"input\", { type: \"text\", required: true })),\n        /* @__PURE__ */ se(\"label\", null, /* @__PURE__ */ se(\"div\", null, \"Password (auto created. If you lose this password, you will not be able to log in.)\"), /* @__PURE__ */ se(\n          \"input\",\n          {\n            type: \"password\",\n            value: encodeBase64Url(props.privateKey),\n            readOnly: true,\n            autoComplete: \"new-password\"\n          }\n        ), /* @__PURE__ */ se(\"button\", { type: \"button\", onClick: props.copyPassword }, \"copy password\")),\n        /* @__PURE__ */ se(\"button\", { type: \"submit\" }, \"Sign Up\")\n      )\n    );\n  };\n\n  // client/start.tsx\n  var root = document.getElementById(\"root\");\n  if (root === null) {\n    throw new Error(\"root element not found\");\n  }\n  var AppWithState = () => {\n    const [state, setState] = B2(0);\n    const [privateKey, setPrivateKey] = B2(null);\n    return /* @__PURE__ */ se(\"div\", null, /* @__PURE__ */ se(\n      App,\n      {\n        state,\n        privateKey,\n        setState,\n        signUp: () => {\n          setPrivateKey(utils.randomPrivateKey());\n        },\n        copyPassword: () => {\n          if (privateKey === null) {\n            return;\n          }\n          navigator.clipboard.writeText(encodeBase64Url(privateKey));\n        }\n      }\n    ), /* @__PURE__ */ se(\n      SignUpDialog,\n      {\n        privateKey,\n        copyPassword: () => {\n          if (privateKey === null) {\n            return;\n          }\n          navigator.clipboard.writeText(encodeBase64Url(privateKey));\n        },\n        onClose: () => setPrivateKey(null)\n      }\n    ));\n  };\n  he(/* @__PURE__ */ se(AppWithState, null), root);\n})();\n/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */\n","clientJavaScriptHash":"357262f3b676a281529ea419f95f7ae587bb9493726db189c0abfde7461678f7"}